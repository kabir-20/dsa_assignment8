#include <iostream>
using namespace std;

class PriorityQueue {
public:
    int a[100];
    int n;

    PriorityQueue() {
        n = 0;
    }

    void insert(int x) {
        int i = n++;
        a[i] = x;

        while (i != 0 && a[(i-1)/2] < a[i]) {
            swap(a[i], a[(i-1)/2]);
            i = (i-1)/2;
        }
    }

    int getMax() {
        if (n == 0) return -1;
        return a[0];
    }

    void removeMax() {
        if (n == 0) return;

        a[0] = a[n-1];
        n--;

        heapify(0);
    }

    void heapify(int i) {
        int largest = i;
        int l = 2*i + 1;
        int r = 2*i + 2;

        if (l < n && a[l] > a[largest]) largest = l;
        if (r < n && a[r] > a[largest]) largest = r;

        if (largest != i) {
            swap(a[i], a[largest]);
            heapify(largest);
        }
    }

    void display() {
        for (int i = 0; i < n; i++) cout << a[i] << " ";
        cout << endl;
    }
};

int main() {
    PriorityQueue pq;

    pq.insert(30);
    pq.insert(10);
    pq.insert(50);
    pq.insert(40);
    pq.insert(20);

    cout << "Heap: ";
    pq.display();

    cout << "Max: " << pq.getMax() << endl;

    pq.removeMax();
    cout << "After removing max: ";
    pq.display();
}
